"use strict";(function(){jQuery(document).ready(function(c){var e,n;return n=function(){var e;return e=wc_address_validation.is_checkout?401:0,setTimeout(function(){return c(window).resize()},e)},e=function(){var e,t,a,n,r;for(t in a=[],r=wc_address_validation.addresses)n=r[t],c.isEmptyObject(n)||(e=c.extend({id:t},n),a.push(e));return JSON.parse(JSON.stringify(a))},c("#billing_country option, #shipping_country option").each(function(e,t){if("US"===t.value)return c(t).text("United States")}),setTimeout(function(){var i,s,o,t,a;for(i in o=c.LiveAddress({key:wc_address_validation.smarty_streets_key,debug:wc_address_validation.debug_mode,addresses:e()}),wc_address_validation.addresses)"US"!==c(':input[name="'+i+'_country"]').val()&&o.deactivate(i);return c(document.body).trigger("wc_address_validation_fields_mapped"),t=function(e){if(!e||0!==c(".deactivated.smarty-addr-shipping").length)return e?(c("a.smarty-addr-shipping").parent("div").show(),o.activate("shipping")):(c("a.smarty-addr-shipping").parent("div").hide(),o.deactivate("shipping")),n()},c("input[name=ship_to_different_address]").on("change",function(e){return t(c(this).is(":checked")),n()}).trigger("change"),c(document).on("change","select.country_select",function(e){return i=e.target.id.replace("_country",""),"US"!==e.target.value?o.deactivate(i):a()}),a=function(){return setTimeout(function(){return o.mapFields(e()),t(c("input[name=ship_to_different_address]").is(":checked")),c(document.body).trigger("wc_address_validation_fields_mapped")},0)},o.on("Completed",function(e,t,a){var n,r,d;if("US"===c(':input[name="'+t.address.id()+'_country"]').val()){for(r in c(document.body).trigger("update_checkout"),0<t.response.raw.length&&(d={latitude:t.response.raw[0].metadata.latitude,longitude:t.response.raw[0].metadata.longitude,classification:t.response.raw[0].metadata.rdi},c.each(d,function(e,t){return c("<input>").attr({type:"hidden",id:"wc_address_validation_"+e,name:"wc_address_validation_"+e}).val(t).appendTo("form.checkout")})),n=t.address.getDomFields())c(n[r]).blur();s()}return a(e,t)}),o.on("AddressAccepted",function(e,t,a){var n;return"US"===c(':input[name="'+t.address.id()+'_country"]').val()&&"no"===wc_address_validation.plus_four_code&&((n=t.address.getDomFields().postal_code).value=t.response&&t.response.chosen?t.response.chosen.components.zipcode:n.value,s()),a(e,t)}),s=function(){return c(document).on("change","select.state_select",function(e){var t,a,n,r,d;if(i=e.target.id.replace("_state",""),t=o.getMappedAddressByID(i),d=e.target.value,n=t.get("administrative_area"),a=t.get("address1"),2<=n.length&&2<=d.length&&!a.endsWith(d))return r=a+" "+d,t.set("address1",r),t.set("administrative_area",d),c("#"+i+"_address_1").val(r).trigger("change"),t.unaccept(),t.verify(),o.verify(),c("#"+i+"_address_1").val(a).trigger("change")})}},0)})}).call(void 0);