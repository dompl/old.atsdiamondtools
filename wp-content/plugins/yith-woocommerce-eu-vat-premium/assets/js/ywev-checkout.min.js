jQuery(document).ready(function(t){var e;function n(){doing_vat_check=!0;var n=t("input#billing_yweu_vat").val();console.log(n);var e={action:"check_eu_vat_number",vat_number:n,selected_country:t("select#billing_country").val(),confirm:!!t("#eu_vat_confirm_country").attr("checked"),billing_company:t("#billing_company").val(),shipping_country:t("#shipping_country").val()};t("#billing_yweu_vat_field").block({message:null,overlayCSS:{background:"#fff url("+ywev.loader+") no-repeat center",opacity:.6}}),t.post(woocommerce_params.ajax_url,e,function(e){t(".eu-vat-message").remove(),1==e.code?t("#billing_yweu_vat_field").append('<p style="color:green;font-size: 12px" class="eu-vat-message">'+e.value+"</p>"):-1==e.code&&n.trim().length&&t("#billing_yweu_vat_field").append('<p style="color:red;font-size: 12px" class="eu-vat-message">'+e.value+"</p>"),t("#billing_yweu_vat_field").unblock(),t(document.body).trigger("update_checkout"),t(document.body).trigger("yith_eu_vat_number_processed")})}function i(){var e=!0,n=ywev.base_countries;return t("select#billing_country").val()==n&&ywev.disable_vat_exception_same_country&&(e=!1,t(".eu-vat-message").remove()),e}t("input#billing_yweu_vat").on("keyup",function(){e&&clearTimeout(e),i()&&(e=setTimeout(n,1e3))}),""!=t("input#billing_yweu_vat").val()&&(e&&clearTimeout(e),i()&&(e=setTimeout(n,1e3))),t("select#billing_country").on("change",function(){(function(){t("#billing_yweu_vat_field").hide();var e=t("select#billing_country").val();if(e&&0<=ywev.eu_vat_field_enabled_countries.indexOf(e))return t("#billing_yweu_vat_field").show(),!0;return!1})()&&i()&&n()})});