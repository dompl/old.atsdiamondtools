!function(t,i){"function"==typeof define&&define.amd?define(["jquery"],i):"object"==typeof exports?module.exports=i(require("jquery")):t.lightbox=i(t.jQuery)}(this,function(t){function i(i){this.album=[],this.currentImageIndex=void 0,this.init(),this.options=t.extend({},this.constructor.defaults),this.option(i)}return i.defaults={albumLabel:"Image %1 of %2",alwaysShowNavOnTouchDevices:!1,fadeDuration:600,fitImagesInViewport:!0,imageFadeDuration:600,positionFromTop:50,resizeDuration:700,showImageNumberLabel:!0,wrapAround:!1,disableScrolling:!1,sanitizeTitle:!1},i.prototype.option=function(i){t.extend(this.options,i)},i.prototype.imageCountLabel=function(t,i){return this.options.albumLabel.replace(/%1/g,t).replace(/%2/g,i)},i.prototype.init=function(){var i=this;t(document).ready(function(){i.enable(),i.build()})},i.prototype.enable=function(){var i=this;t("body").on("click","a[rel^=lightbox], area[rel^=lightbox], a[data-lightbox], area[data-lightbox]",function(e){return i.start(t(e.currentTarget)),!1})},i.prototype.build=function(){if(!(t("#lightbox").length>0)){var i=this;t('<div id="lightboxOverlay" class="lightboxOverlay"></div><div id="lightbox" class="lightbox"><div class="lb-outerContainer"><div class="lb-container"><img class="lb-image" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" /><div class="lb-nav"><a class="lb-prev" href="" ></a><a class="lb-next" href="" ></a></div><div class="lb-loader"><a class="lb-cancel"></a></div></div></div><div class="lb-dataContainer"><div class="lb-data"><div class="lb-details"><span class="lb-caption"></span><span class="lb-number"></span></div><div class="lb-closeContainer"><a class="lb-close"></a></div></div></div></div>').appendTo(t("body")),this.$lightbox=t("#lightbox"),this.$overlay=t("#lightboxOverlay"),this.$outerContainer=this.$lightbox.find(".lb-outerContainer"),this.$container=this.$lightbox.find(".lb-container"),this.$image=this.$lightbox.find(".lb-image"),this.$nav=this.$lightbox.find(".lb-nav"),this.containerPadding={top:parseInt(this.$container.css("padding-top"),10),right:parseInt(this.$container.css("padding-right"),10),bottom:parseInt(this.$container.css("padding-bottom"),10),left:parseInt(this.$container.css("padding-left"),10)},this.imageBorderWidth={top:parseInt(this.$image.css("border-top-width"),10),right:parseInt(this.$image.css("border-right-width"),10),bottom:parseInt(this.$image.css("border-bottom-width"),10),left:parseInt(this.$image.css("border-left-width"),10)},this.$overlay.hide().on("click",function(){return i.end(),!1}),this.$lightbox.hide().on("click",function(e){return"lightbox"===t(e.target).attr("id")&&i.end(),!1}),this.$outerContainer.on("click",function(e){return"lightbox"===t(e.target).attr("id")&&i.end(),!1}),this.$lightbox.find(".lb-prev").on("click",function(){return 0===i.currentImageIndex?i.changeImage(i.album.length-1):i.changeImage(i.currentImageIndex-1),!1}),this.$lightbox.find(".lb-next").on("click",function(){return i.currentImageIndex===i.album.length-1?i.changeImage(0):i.changeImage(i.currentImageIndex+1),!1}),this.$nav.on("mousedown",function(t){3===t.which&&(i.$nav.css("pointer-events","none"),i.$lightbox.one("contextmenu",function(){setTimeout(function(){this.$nav.css("pointer-events","auto")}.bind(i),0)}))}),this.$lightbox.find(".lb-loader, .lb-close").on("click",function(){return i.end(),!1})}},i.prototype.start=function(i){function e(t){a.album.push({alt:t.attr("data-alt"),link:t.attr("href"),title:t.attr("data-title")||t.attr("title")})}var a=this,o=t(window);o.on("resize",t.proxy(this.sizeOverlay,this)),t("select, object, embed").css({visibility:"hidden"}),this.sizeOverlay(),this.album=[];var n,s=0,r=i.attr("data-lightbox");if(r){n=t(i.prop("tagName")+'[data-lightbox="'+r+'"]');for(var l=0;l<n.length;l=++l)e(t(n[l])),n[l]===i[0]&&(s=l)}else if("lightbox"===i.attr("rel"))e(i);else{n=t(i.prop("tagName")+'[rel="'+i.attr("rel")+'"]');for(var d=0;d<n.length;d=++d)e(t(n[d])),n[d]===i[0]&&(s=d)}var h=o.scrollTop()+this.options.positionFromTop,c=o.scrollLeft();this.$lightbox.css({top:h+"px",left:c+"px"}).fadeIn(this.options.fadeDuration),this.options.disableScrolling&&t("html").addClass("lb-disable-scrolling"),this.changeImage(s)},i.prototype.changeImage=function(i){var e=this;this.disableKeyboardNav();var a=this.$lightbox.find(".lb-image");this.$overlay.fadeIn(this.options.fadeDuration),t(".lb-loader").fadeIn("slow"),this.$lightbox.find(".lb-image, .lb-nav, .lb-prev, .lb-next, .lb-dataContainer, .lb-numbers, .lb-caption").hide(),this.$outerContainer.addClass("animating");var o=new Image;o.onload=function(){var n,s,r,l,d,h;a.attr({alt:e.album[i].alt,src:e.album[i].link}),t(o),a.width(o.width),a.height(o.height),e.options.fitImagesInViewport&&(h=t(window).width(),d=t(window).height(),l=h-e.containerPadding.left-e.containerPadding.right-e.imageBorderWidth.left-e.imageBorderWidth.right-20,r=d-e.containerPadding.top-e.containerPadding.bottom-e.imageBorderWidth.top-e.imageBorderWidth.bottom-120,e.options.maxWidth&&e.options.maxWidth<l&&(l=e.options.maxWidth),e.options.maxHeight&&e.options.maxHeight<l&&(r=e.options.maxHeight),(o.width>l||o.height>r)&&(o.width/l>o.height/r?(s=l,n=parseInt(o.height/(o.width/s),10),a.width(s),a.height(n)):(n=r,s=parseInt(o.width/(o.height/n),10),a.width(s),a.height(n)))),e.sizeContainer(a.width(),a.height())},o.src=this.album[i].link,this.currentImageIndex=i},i.prototype.sizeOverlay=function(){this.$overlay.width(t(document).width()).height(t(document).height())},i.prototype.sizeContainer=function(t,i){function e(){a.$lightbox.find(".lb-dataContainer").width(s),a.$lightbox.find(".lb-prevLink").height(r),a.$lightbox.find(".lb-nextLink").height(r),a.showImage()}var a=this,o=this.$outerContainer.outerWidth(),n=this.$outerContainer.outerHeight(),s=t+this.containerPadding.left+this.containerPadding.right+this.imageBorderWidth.left+this.imageBorderWidth.right,r=i+this.containerPadding.top+this.containerPadding.bottom+this.imageBorderWidth.top+this.imageBorderWidth.bottom;o!==s||n!==r?this.$outerContainer.animate({width:s,height:r},this.options.resizeDuration,"swing",function(){e()}):e()},i.prototype.showImage=function(){this.$lightbox.find(".lb-loader").stop(!0).hide(),this.$lightbox.find(".lb-image").fadeIn(this.options.imageFadeDuration),this.updateNav(),this.updateDetails(),this.preloadNeighboringImages(),this.enableKeyboardNav()},i.prototype.updateNav=function(){var t=!1;try{document.createEvent("TouchEvent"),t=!!this.options.alwaysShowNavOnTouchDevices}catch(t){}this.$lightbox.find(".lb-nav").show(),this.album.length>1&&(this.options.wrapAround?(t&&this.$lightbox.find(".lb-prev, .lb-next").css("opacity","1"),this.$lightbox.find(".lb-prev, .lb-next").show()):(this.currentImageIndex>0&&(this.$lightbox.find(".lb-prev").show(),t&&this.$lightbox.find(".lb-prev").css("opacity","1")),this.currentImageIndex<this.album.length-1&&(this.$lightbox.find(".lb-next").show(),t&&this.$lightbox.find(".lb-next").css("opacity","1"))))},i.prototype.updateDetails=function(){var i=this;if(void 0!==this.album[this.currentImageIndex].title&&""!==this.album[this.currentImageIndex].title){var e=this.$lightbox.find(".lb-caption");this.options.sanitizeTitle?e.text(this.album[this.currentImageIndex].title):e.html(this.album[this.currentImageIndex].title),e.fadeIn("fast").find("a").on("click",function(i){void 0!==t(this).attr("target")?window.open(t(this).attr("href"),t(this).attr("target")):location.href=t(this).attr("href")})}if(this.album.length>1&&this.options.showImageNumberLabel){var a=this.imageCountLabel(this.currentImageIndex+1,this.album.length);this.$lightbox.find(".lb-number").text(a).fadeIn("fast")}else this.$lightbox.find(".lb-number").hide();this.$outerContainer.removeClass("animating"),this.$lightbox.find(".lb-dataContainer").fadeIn(this.options.resizeDuration,function(){return i.sizeOverlay()})},i.prototype.preloadNeighboringImages=function(){this.album.length>this.currentImageIndex+1&&((new Image).src=this.album[this.currentImageIndex+1].link),this.currentImageIndex>0&&((new Image).src=this.album[this.currentImageIndex-1].link)},i.prototype.enableKeyboardNav=function(){t(document).on("keyup.keyboard",t.proxy(this.keyboardAction,this))},i.prototype.disableKeyboardNav=function(){t(document).off(".keyboard")},i.prototype.keyboardAction=function(t){var i=t.keyCode,e=String.fromCharCode(i).toLowerCase();27===i||e.match(/x|o|c/)?this.end():"p"===e||37===i?0!==this.currentImageIndex?this.changeImage(this.currentImageIndex-1):this.options.wrapAround&&this.album.length>1&&this.changeImage(this.album.length-1):"n"!==e&&39!==i||(this.currentImageIndex!==this.album.length-1?this.changeImage(this.currentImageIndex+1):this.options.wrapAround&&this.album.length>1&&this.changeImage(0))},i.prototype.end=function(){this.disableKeyboardNav(),t(window).off("resize",this.sizeOverlay),this.$lightbox.fadeOut(this.options.fadeDuration),this.$overlay.fadeOut(this.options.fadeDuration),t("select, object, embed").css({visibility:"visible"}),this.options.disableScrolling&&t("html").removeClass("lb-disable-scrolling")},new i}),function(t){t(function(){function i(i,e){t("#ats-product-images .additional-single-image").remove(),"single"===e?t("#ats-product-images .single-image").css("display","none"):t("#product__slider").css("display","none");var a='<div class="additional-single-image"><a href="'+i.image.url+'" data-lightbox="image-1" data-title="'+i.image.alt+'"><figure><img src="'+i.image.src+'" alt="'+i.image.alt+'"></figure></a></div>';t("#ats-product-images").append(a)}var e=t(".product-description-content").html();t("#mobile_full").html(e),t(".variations_form").on("woocommerce_variation_select_change",function(){t("#var_sku").text("Per Variation"),t("p.price").html(t("div.hidden-variable-price").html()),t("#product-option").text(""),var_wrapper=t("#variation-wrapper");var i=["has-variation","has-description","has-image","off-stock"];t.each(i,function(t,i){var_wrapper.removeClass(i)});var e=["#oos","#variation-stock",".variation-title",".variation-image","#variation-stock","p.availability"];t.each(e,function(i,e){t(e)&&t(e).remove()})}),t(".variations_form select").on("change",function(){""===t(this).val()&&(t("#ats-product-images .single-image").css("display","block"),t("#ats-product-images .additional-single-image").html(""),t("#product__slider").css("display","block"),t("#ats-product-images .additional-single-image").remove(),o=a)});var a=String(t(".prod-main-image").data("image-id")),o=String(t(".prod-main-image").data("image-id")),n=String(t("#ats-product-images .single-image").data("image-id"));t(".variations_form").each(function(){t(this).on("found_variation",function(e,s){var r;r=o!==s.image_id&&"undefined"!==a,n!==s.image_id&&"undefined"!==n?(o=s.image_id,i(s,"single")):(t("#ats-product-images .single-image").css("display","block"),t("#ats-product-images .additional-single-image").html("")),o!==s.image_id&&"undefined"===n&&(o=s.image_id,i(s,"gallery")),a===s.image_id&&r&&(t("#product__slider").css("display","block"),t("#ats-product-images .additional-single-image").remove());var l=s.variation_id,d=t(this).find("option:selected").text(),h=(t(this).data("product_variations"),t(".prod-main-image").data("image-id")),c=t(".prod_Name").text(),g=t("#variation-wrapper");if(g.addClass("has-variation"),t("p.price").html(s.price_html),t("#product-option").text(d),h!=s.image_id){g.addClass("has-image"),t(".variation-image").remove();var p='<div class="variation-image"><a href="'+s.image.url+'" data-lightbox="variation-image-'+l+'" data-title="'+t(".product-header h2").text()+" - "+d+s.sku+s.image.caption+'"><img src="'+s.image.src+'"></a></div>';g.append(p)}else t(".variation-image").remove();if(""!=s.variation_description?(g.addClass("has-variation").addClass("has-description"),t(".variation-title").remove(),var_description_HTML='<div class="variation-title"><h3>'+d+'</h3><div class="variation-description">'+s.variation_description+"</div></div>",g.append(var_description_HTML)):(g.removeClass("has-description").removeClass("has-variation"),t(".variation-title").remove()),var_sku_text=""!=s.sku?s.sku:"N/A",t("#var_sku").text(var_sku_text),0==s.is_in_stock||""==s.display_regular_price){g.removeClass("off-stock"),t("#variation-stock").remove();var u=sprintf('<div id="variation-stock" class="not-in-stock clx"><span class="float">Sorry, %s - <strong>(%s)</strong> is currently out of stock.</span></div>',c,d);t("#product-option").append('<span id="oos"> (OUT OF STOCK)</span>'),g.addClass("off-stock").append(u)}else g.removeClass("off-stock"),t("#variation-stock").remove(),t("#oos").remove()})})})}(jQuery),function(t,i){t.Number,t.Number.prototype}("undefined"==typeof global?window:global),jQuery(function(t){function i(){t("div.quantity:not(.buttons_added), td.quantity:not(.buttons_added)").addClass("buttons_added").append('<span class="plus"><i class="icon-caret-right"></i></span>').prepend('<span class="minus"><i class="icon-caret-left"></i></span>')}String.prototype.getDecimals||(String.prototype.getDecimals=function(){var t=(""+this).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}),t(document).on("updated_wc_div",function(){i()}),t(document).on("click",".plus, .minus",function(){var i=t(this).closest(".quantity").find(".qty"),e=parseFloat(i.val()),a=parseFloat(i.attr("max")),o=parseFloat(i.attr("min")),n=i.attr("step");e&&""!==e&&"NaN"!==e||(e=0),""!==a&&"NaN"!==a||(a=""),""!==o&&"NaN"!==o||(o=0),"any"!==n&&""!==n&&void 0!==n&&"NaN"!==parseFloat(n)||(n=1),t(this).is(".plus")?a&&e>=a?i.val(a):i.val((e+parseFloat(n)).toFixed(n.getDecimals())):o&&e<=o?i.val(o):e>0&&i.val((e-parseFloat(n)).toFixed(n.getDecimals())),i.trigger("change")}),i()}),function(t){t(function(){if(t(".product__slider-main").length){t(".product__slider-main").on("init",function(i){t(".product__slider-main").fadeIn(1e3)}).slick({slidesToShow:1,slidesToScroll:1,arrows:!0,autoplay:!1,fade:!0,lazyLoad:"ondemand",autoplaySpeed:3e3,adaptiveHeight:!0,prevArrow:'<i class="icon-arrow-thin-left"></i>',nextArrow:'<i class="icon-arrow-thin-right"></i>',asNavFor:".product__slider-thmb"}),t(".product__slider-thmb").on("init",function(i){t(".product__slider-thmb").fadeIn(1e3)}).slick({slidesToShow:5,slidesToScroll:1,lazyLoad:"ondemand",asNavFor:".product__slider-main",dots:!1,centerMode:!0,focusOnSelect:!0,infinite:!0,prevArrow:'<i class="icon-arrow-thin-left"></i>',nextArrow:'<i class="icon-arrow-thin-right"></i>',responsive:[{breakpoint:1024,settings:{slidesToShow:4}},{breakpoint:769,settings:{slidesToShow:5}},{breakpoint:480,settings:{slidesToShow:3}}]});t(".product__slider-thmb .slick-slide").removeClass("slick-active"),t(".product__slider-thmb .slick-slide").eq(0).addClass("slick-active"),t(".product__slider-main").on("beforeChange",function(i,e,a,o){var n=o;t(".product__slider-thmb .slick-slide").removeClass("slick-active"),t(".product__slider-thmb .slick-slide").eq(n).addClass("slick-active")})}})}(jQuery),function(t){t(function(){t.fn.customerPopup=function(t,i,e,a){t.preventDefault(),i=i||"500",e=e||"400",strResize=a?"yes":"no";var o=void 0!==this.attr("title")?this.attr("title"):"Social Share",n="width="+i+",height="+e+",resizable="+strResize;window.open(this.attr("href"),o,n).focus()},t(document).ready(function(){t(".customer.share").on("click",function(i){t(this).customerPopup(i)})})})}(jQuery),lightbox.option({resizeDuration:200,wrapAround:!0});
//# sourceMappingURL=x-singleproduct.js.map
